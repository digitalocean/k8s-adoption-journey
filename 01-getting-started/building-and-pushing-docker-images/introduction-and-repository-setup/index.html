<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Hands-on tutorial for going from day-1 to production on DigitalOcean Kubernetes." name=description><link href=https://digitalocean.github.io/k8s-adoption-journey/01-getting-started/building-and-pushing-docker-images/introduction-and-repository-setup/ rel=canonical><link href=../../../assets/images/favicon.png rel=icon><meta content="mkdocs-1.4.0, mkdocs-material-8.5.8" name=generator><title>Repository setup - Kubernetes Adoption Journey</title><link href=../../../assets/stylesheets/main.20d9efc8.min.css rel=stylesheet><link href=../../../assets/stylesheets/palette.815d1a91.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gdesc-inner { font-size: 0.75rem; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                </style><script src=../../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent data-md-color-primary data-md-color-scheme=default dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#introduction> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label="Kubernetes Adoption Journey" class="md-header__button md-logo" data-md-component=logo href=../../.. title="Kubernetes Adoption Journey"> <img alt=logo src=../../../assets/do_logo.png> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Kubernetes Adoption Journey </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Repository setup </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary data-md-color-scheme=default id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_2 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary data-md-color-scheme=slate id=__palette_2 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"></path></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/digitalocean/k8s-adoption-journey title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="Kubernetes Adoption Journey" class="md-nav__button md-logo" data-md-component=logo href=../../.. title="Kubernetes Adoption Journey"> <img alt=logo src=../../../assets/do_logo.png> </a> Kubernetes Adoption Journey </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/digitalocean/k8s-adoption-journey title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../../..> Intro </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2> Getting started <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Getting started" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installing-required-tools/ class=md-nav__link> Installing required tools </a> </li> <li class=md-nav__item> <a href=../../do-api-auth/ class=md-nav__link> Authenticating with the DigitalOcean API </a> </li> <li class=md-nav__item> <a href=../../setup-docr/ class=md-nav__link> Set up a Digital Ocean container registry </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 id=__nav_2_4 type=checkbox> <label class=md-nav__link for=__nav_2_4> Preparing the demo application <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Preparing the demo application" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Preparing the demo application </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> Repository setup <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Repository setup </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#introduction> Introduction </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#prerequisites> Prerequisites </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#set-up-github-repository-for-the-online-boutique-application> Set Up GitHub Repository for the Online Boutique Application </a> <nav aria-label="Set Up GitHub Repository for the Online Boutique Application" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#understanding-microservices-demo-project-structure> Understanding Microservices Demo Project Structure </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#configuring-docr-endpoint-for-kustomize-overlays> Configuring DOCR Endpoint for Kustomize Overlays </a> <nav aria-label="Configuring DOCR Endpoint for Kustomize Overlays" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#development-environment-docr-overlay> Development Environment DOCR Overlay </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#staging-environment-docr-overlay> Staging Environment DOCR Overlay </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#production-environment-docr-overlay> Production Environment DOCR Overlay </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#set-up-main-branch-protection> Set Up Main Branch Protection </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../building-and-pushing-images-using-docker/ class=md-nav__link> Building and pushing images with Docker </a> </li> <li class=md-nav__item> <a href=../building-and-pushing-images-using-cnb/ class=md-nav__link> Building and pushing images with Cloud Native Buildpacks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 id=__nav_3 type=checkbox> <label class=md-nav__link for=__nav_3> Development environment <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Development environment" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Development environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../02-development/setup-doks-dev/ class=md-nav__link> Set up Development DOKS </a> </li> <li class=md-nav__item> <a href=../../../02-development/tilt-local/ class=md-nav__link> Tilt for local development </a> </li> <li class=md-nav__item> <a href=../../../02-development/tilt-remote/ class=md-nav__link> Tilt for remote development </a> </li> <li class=md-nav__item> <a href=../../../02-development/setup-ingress-dev/ class=md-nav__link> Set up ingress </a> </li> <li class=md-nav__item> <a href=../../../02-development/observability-dev/ class=md-nav__link> Observability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4> Staging environment <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Staging environment" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Staging environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../03-staging/setup-doks-staging/ class=md-nav__link> Set up Staging DOKS </a> </li> <li class=md-nav__item> <a href=../../../03-staging/deploying-the-online-boutique-sample-application-staging/ class=md-nav__link> Deploying the online boutique sample application </a> </li> <li class=md-nav__item> <a href=../../../03-staging/setup-ingress-staging/ class=md-nav__link> Set up ingress </a> </li> <li class=md-nav__item> <a href=../../../03-staging/observability-staging/ class=md-nav__link> Observability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 id=__nav_5 type=checkbox> <label class=md-nav__link for=__nav_5> Production environment <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Production environment" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Production environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../04-production/setup-doks-production/ class=md-nav__link> Set up Production DOKS </a> </li> <li class=md-nav__item> <a href=../../../04-production/deploying-the-online-boutique-sample-application-production/ class=md-nav__link> Deploying the online boutique sample application </a> </li> <li class=md-nav__item> <a href=../../../04-production/setup-ingress-production/ class=md-nav__link> Set up ingress </a> </li> <li class=md-nav__item> <a href=../../../04-production/observability-production/ class=md-nav__link> Observability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 id=__nav_6 type=checkbox> <label class=md-nav__link for=__nav_6> Continuous integration and deployments <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Continuous integration and deployments" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Continuous integration and deployments </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../05-ci-cd/setup-continuous-integration/ class=md-nav__link> Set up continuous integration </a> </li> <li class=md-nav__item> <a href=../../../05-ci-cd/setup-continuous-deployments/ class=md-nav__link> Set up continuous deployments </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 id=__nav_7 type=checkbox> <label class=md-nav__link for=__nav_7> Promote releases <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Promote releases" class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Promote releases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../06-promote-releases/setup-release-process/ class=md-nav__link> Set up release process </a> </li> <li class=md-nav__item> <a href=../../../06-promote-releases/promote-releases-to-upper-envs/ class=md-nav__link> Promote releases to upper environments </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 id=__nav_8 type=checkbox> <label class=md-nav__link for=__nav_8> Security <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Security class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-security/software-supply-chain/ class=md-nav__link> Securing the software supply chain </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#introduction> Introduction </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#prerequisites> Prerequisites </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#set-up-github-repository-for-the-online-boutique-application> Set Up GitHub Repository for the Online Boutique Application </a> <nav aria-label="Set Up GitHub Repository for the Online Boutique Application" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#understanding-microservices-demo-project-structure> Understanding Microservices Demo Project Structure </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#configuring-docr-endpoint-for-kustomize-overlays> Configuring DOCR Endpoint for Kustomize Overlays </a> <nav aria-label="Configuring DOCR Endpoint for Kustomize Overlays" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#development-environment-docr-overlay> Development Environment DOCR Overlay </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#staging-environment-docr-overlay> Staging Environment DOCR Overlay </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#production-environment-docr-overlay> Production Environment DOCR Overlay </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#set-up-main-branch-protection> Set Up Main Branch Protection </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href=https://github.com/digitalocean/k8s-adoption-journey/edit/master/docs/01-getting-started/building-and-pushing-docker-images/introduction-and-repository-setup.md title="Edit this page"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg> </a> <h1>Repository setup</h1> <h2 id=introduction>Introduction</h2> <p>In this section you will create the GitHub repository hosting the sample application used through this guide. It's a web-based e-commerce app (online boutique) consisting of 11 microservices of which only 9 are used by this guide. In terms of functionality, users can browse items, add them to the cart, and purchase them.</p> <p>The online boutique application is a clone of the original <a href=https://github.com/GoogleCloudPlatform/microservices-demo>GoogleCloudPlatform</a> project. It will be used as a demo for the Kubernetes adoption journey. The <a href=https://github.com/digitalocean/kubernetes-sample-apps/tree/master/microservices-demo>microservices-demo</a> project from the DigitalOcean <a href=https://github.com/digitalocean/kubernetes-sample-apps>kubernetes-sample-apps</a> repository has been stripped down to focus only on the major parts required by the adoption journey.</p> <p>For more information and architecture details, please visit the <a href=https://github.com/GoogleCloudPlatform/microservices-demo>GoogleCloudPlatform</a> GitHub repository.</p> <p><strong>Why not create a fork?</strong></p> <p>There are several reasons why a fork is not appropriate to complete all steps from this guide:</p> <ol> <li>Each PR opened on your fork will point to the upstream repository by default. You will want to have PRs opened against your repo when testing each section of the adoption journey guide, especially in the continuous integration chapter.</li> <li>Full history of the upstream repo will be present in your fork as well. This can create lot of noise.</li> <li>All projects from the kubernetes-sample-apps upstream are pulled in your fork as well. You only care about microservices-demo.</li> </ol> <p>Next, you will start by creating your own GitHub repository hosting the online boutique demo application source code and configuration files.</p> <h2 id=prerequisites>Prerequisites</h2> <p>To complete this section you will need:</p> <ol> <li>A GitHub account you own. You can create one for free <a href=https://github.com/join/ >here</a>.</li> <li>A <a href=https://git-scm.com/downloads/ >Git client</a> to perform operations on your GitHub repository. Usually bundled with your Linux distribution.</li> <li><a href=https://www.gnu.org/software/wget/ >Wget</a> and unzip utilities. Usually bundled with your Linux distribution.</li> <li>A container registry already set up as explained in the <a href=../../setup-docr/ >Set up DOCR</a> section.</li> </ol> <h2 id=set-up-github-repository-for-the-online-boutique-application>Set Up GitHub Repository for the Online Boutique Application</h2> <ol> <li>Navigate to <a href=https://github.com/ >Github</a> website and log in using your GitHub account.</li> <li>In the upper-right corner of any page, use the <code>+</code> drop-down menu, and select <code>New repository</code>.</li> <li>Set the <code>Repository name</code> to <code>microservices-demo</code>.</li> <li>Click on the <code>Create repository</code> button.</li> <li> <p>From the command line clone the newly created repository to your local machine (make sure to replace the <code>&lt;&gt;</code> placeholders accordingly):</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a>git clone git@github.com:&lt;YOUR_GITHUB_USERNAME&gt;/microservices-demo.git
</code></pre></div> </li> <li> <p>Change directory to your local clone:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=nb>cd</span> microservices-demo
</code></pre></div> </li> <li> <p>Run the following command to download a zip file of the entire <a href=https://github.com/digitalocean/kubernetes-sample-apps>kubernetes-sample-apps</a> repo:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a>wget https://github.com/digitalocean/kubernetes-sample-apps/archive/refs/heads/master.zip -O kubernetes-sample-apps.zip
</code></pre></div> </li> <li> <p>Unzip the <code>microservices-demo</code> project folder from the <code>kubernetes-sample-apps.zip</code> file:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>unzip kubernetes-sample-apps.zip <span class=s1>'kubernetes-sample-apps-master/microservices-demo/*'</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>This will result in a <code>kubernetes-sample-apps-master</code> folder being created from the <code>unzip</code> process.</p> </div> </li> <li> <p>Copy the content of the <code>microservices-demo</code> from the <code>kubernetes-sample-apps-master</code> to the current working directory:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a>cp -r kubernetes-sample-apps-master/microservices-demo/* .
</code></pre></div> </li> <li> <p>Remove the <code>kubernetes-sample-apps-master</code> and <code>kubernetes-sample-apps.zip</code>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>rm -rf kubernetes-sample-apps-master kubernetes-sample-apps.zip
</code></pre></div> <details class=info> <summary>Click to expand <code>microservices-demo</code> repository structure</summary> <div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>├── kustomize
<a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a>│   ├── base
<a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a>│   ├── dev
<a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>│   ├── prod
<a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a>│   ├── staging
<a href=#__codelineno-6-6 id=__codelineno-6-6 name=__codelineno-6-6></a>│   └── kustomization.yaml
<a href=#__codelineno-6-7 id=__codelineno-6-7 name=__codelineno-6-7></a>├── release-scripts
<a href=#__codelineno-6-8 id=__codelineno-6-8 name=__codelineno-6-8></a>│   ├── README.md
<a href=#__codelineno-6-9 id=__codelineno-6-9 name=__codelineno-6-9></a>│   ├── license_header.txt
<a href=#__codelineno-6-10 id=__codelineno-6-10 name=__codelineno-6-10></a>│   ├── make-docker-images.sh
<a href=#__codelineno-6-11 id=__codelineno-6-11 name=__codelineno-6-11></a>│   ├── make-release-artifacts.sh
<a href=#__codelineno-6-12 id=__codelineno-6-12 name=__codelineno-6-12></a>│   └── make-release.sh
<a href=#__codelineno-6-13 id=__codelineno-6-13 name=__codelineno-6-13></a>├── src
<a href=#__codelineno-6-14 id=__codelineno-6-14 name=__codelineno-6-14></a>│   ├── cartservice
<a href=#__codelineno-6-15 id=__codelineno-6-15 name=__codelineno-6-15></a>│   ├── checkoutservice
<a href=#__codelineno-6-16 id=__codelineno-6-16 name=__codelineno-6-16></a>│   ├── currencyservice
<a href=#__codelineno-6-17 id=__codelineno-6-17 name=__codelineno-6-17></a>│   ├── emailservice
<a href=#__codelineno-6-18 id=__codelineno-6-18 name=__codelineno-6-18></a>│   ├── frontend
<a href=#__codelineno-6-19 id=__codelineno-6-19 name=__codelineno-6-19></a>│   ├── paymentservice
<a href=#__codelineno-6-20 id=__codelineno-6-20 name=__codelineno-6-20></a>│   ├── productcatalogservice
<a href=#__codelineno-6-21 id=__codelineno-6-21 name=__codelineno-6-21></a>│   ├── recommendationservice
<a href=#__codelineno-6-22 id=__codelineno-6-22 name=__codelineno-6-22></a>│   └── shippingservice
<a href=#__codelineno-6-23 id=__codelineno-6-23 name=__codelineno-6-23></a>├── tilt-resources
<a href=#__codelineno-6-24 id=__codelineno-6-24 name=__codelineno-6-24></a>│   ├── dev
<a href=#__codelineno-6-25 id=__codelineno-6-25 name=__codelineno-6-25></a>│   │   └── tilt_config.json
<a href=#__codelineno-6-26 id=__codelineno-6-26 name=__codelineno-6-26></a>│   └── local
<a href=#__codelineno-6-27 id=__codelineno-6-27 name=__codelineno-6-27></a>│       └── tilt_config.json
<a href=#__codelineno-6-28 id=__codelineno-6-28 name=__codelineno-6-28></a>├── CODE_OF_CONDUCT.md
<a href=#__codelineno-6-29 id=__codelineno-6-29 name=__codelineno-6-29></a>├── CONTRIBUTING.md
<a href=#__codelineno-6-30 id=__codelineno-6-30 name=__codelineno-6-30></a>├── LICENSE
<a href=#__codelineno-6-31 id=__codelineno-6-31 name=__codelineno-6-31></a>├── README.md
<a href=#__codelineno-6-32 id=__codelineno-6-32 name=__codelineno-6-32></a>└── Tiltfile
</code></pre></div> </details> </li> <li> <p>Commit and push all changes to main branch:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>git add .
<a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>git commit -m <span class=s2>"Initial repository layout"</span>
<a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>git push origin
</code></pre></div> </li> </ol> <p>At this point your online boutique GitHub repository is prepared and ready to use through this guide. Next, a quick introduction is given for main project layout and important assets.</p> <h3 id=understanding-microservices-demo-project-structure>Understanding Microservices Demo Project Structure</h3> <p>It's important to familiarize with the folder structure of the e-commerce web application used in this guide. The <code>microservices-demo</code> repository folder layout is listed below:</p> <details class=info> <summary>Click to expand <code>microservices-demo</code> project folder layout</summary> <div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a>.
<a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a>├── kustomize
<a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a>│   ├── base
<a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a>│   │   ├── cartservice.yaml
<a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a>│   │   ├── checkoutservice.yaml
<a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a>│   │   ├── currencyservice.yaml
<a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a>│   │   ├── emailservice.yaml
<a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a>│   │   ├── frontend.yaml
<a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a>│   │   ├── kustomization.yaml
<a href=#__codelineno-8-10 id=__codelineno-8-10 name=__codelineno-8-10></a>│   │   ├── namespace.yaml
<a href=#__codelineno-8-11 id=__codelineno-8-11 name=__codelineno-8-11></a>│   │   ├── paymentservice.yaml
<a href=#__codelineno-8-12 id=__codelineno-8-12 name=__codelineno-8-12></a>│   │   ├── productcatalogservice.yaml
<a href=#__codelineno-8-13 id=__codelineno-8-13 name=__codelineno-8-13></a>│   │   ├── recommendationservice.yaml
<a href=#__codelineno-8-14 id=__codelineno-8-14 name=__codelineno-8-14></a>│   │   ├── redis.yaml
<a href=#__codelineno-8-15 id=__codelineno-8-15 name=__codelineno-8-15></a>│   │   └── shippingservice.yaml
<a href=#__codelineno-8-16 id=__codelineno-8-16 name=__codelineno-8-16></a>│   ├── dev
<a href=#__codelineno-8-17 id=__codelineno-8-17 name=__codelineno-8-17></a>│   │   └── kustomization.yaml
<a href=#__codelineno-8-18 id=__codelineno-8-18 name=__codelineno-8-18></a>│   ├── local
<a href=#__codelineno-8-19 id=__codelineno-8-19 name=__codelineno-8-19></a>│   │   └── kustomization.yaml
<a href=#__codelineno-8-20 id=__codelineno-8-20 name=__codelineno-8-20></a>│   ├── prod
<a href=#__codelineno-8-21 id=__codelineno-8-21 name=__codelineno-8-21></a>│   │   └── kustomization.yaml
<a href=#__codelineno-8-22 id=__codelineno-8-22 name=__codelineno-8-22></a>│   ├── staging
<a href=#__codelineno-8-23 id=__codelineno-8-23 name=__codelineno-8-23></a>│   │   └── kustomization.yaml
<a href=#__codelineno-8-24 id=__codelineno-8-24 name=__codelineno-8-24></a>│   └── kustomization.yaml
<a href=#__codelineno-8-25 id=__codelineno-8-25 name=__codelineno-8-25></a>├── release-scripts
<a href=#__codelineno-8-26 id=__codelineno-8-26 name=__codelineno-8-26></a>├── src
<a href=#__codelineno-8-27 id=__codelineno-8-27 name=__codelineno-8-27></a>│   ├── cartservice
<a href=#__codelineno-8-28 id=__codelineno-8-28 name=__codelineno-8-28></a>│   ├── checkoutservice
<a href=#__codelineno-8-29 id=__codelineno-8-29 name=__codelineno-8-29></a>│   ├── currencyservice
<a href=#__codelineno-8-30 id=__codelineno-8-30 name=__codelineno-8-30></a>│   ├── emailservice
<a href=#__codelineno-8-31 id=__codelineno-8-31 name=__codelineno-8-31></a>│   ├── frontend
<a href=#__codelineno-8-32 id=__codelineno-8-32 name=__codelineno-8-32></a>│   ├── loadgenerator
<a href=#__codelineno-8-33 id=__codelineno-8-33 name=__codelineno-8-33></a>│   ├── paymentservice
<a href=#__codelineno-8-34 id=__codelineno-8-34 name=__codelineno-8-34></a>│   ├── productcatalogservice
<a href=#__codelineno-8-35 id=__codelineno-8-35 name=__codelineno-8-35></a>│   ├── recommendationservice
<a href=#__codelineno-8-36 id=__codelineno-8-36 name=__codelineno-8-36></a>│   └── shippingservice
<a href=#__codelineno-8-37 id=__codelineno-8-37 name=__codelineno-8-37></a>├── tilt-resources
<a href=#__codelineno-8-38 id=__codelineno-8-38 name=__codelineno-8-38></a>│   ├── dev
<a href=#__codelineno-8-39 id=__codelineno-8-39 name=__codelineno-8-39></a>│   │   └── tilt_config.json
<a href=#__codelineno-8-40 id=__codelineno-8-40 name=__codelineno-8-40></a>│   └── local
<a href=#__codelineno-8-41 id=__codelineno-8-41 name=__codelineno-8-41></a>│       └── tilt_config.json
<a href=#__codelineno-8-42 id=__codelineno-8-42 name=__codelineno-8-42></a>├── README.md
<a href=#__codelineno-8-43 id=__codelineno-8-43 name=__codelineno-8-43></a>└── Tiltfile
</code></pre></div> </details> <p>Explanations for the above layout:</p> <ul> <li><code>kustomize</code> - main folder containing project kustomizations. Project deployment is managed via <a href=https://kustomize.io/ >Kustomize</a>. Each environment is represented and managed via a Kustomize overlay folder - <a href=https://github.com/digitalocean/kubernetes-sample-apps/tree/master/microservices-demo/kustomize/dev>dev</a>, <a href=https://github.com/digitalocean/kubernetes-sample-apps/tree/master/microservices-demo/kustomize/staging>staging</a>, <a href=https://github.com/digitalocean/kubernetes-sample-apps/tree/master/microservices-demo/kustomize/prod>prod</a>, etc. Overlays contain environment specific configuration over the <a href=https://github.com/digitalocean/kubernetes-sample-apps/tree/master/microservices-demo/kustomize/base>base</a> folder. The <code>base</code> contains common configuration across all environments.</li> <li><code>release-scripts</code> - contains utility shell scripts used to create, build, tag and push project docker images.</li> <li><code>src</code> - this is the main project folder containing source code for all application microservices. It also contains required Dockerfiles to build each component image. It is a standardized layout (except for <code>cartservice</code> component). You will find here each project unit tests as well (not all are implemented yet though).</li> <li><code>tilt-resources</code> - Tilt <a href=https://docs.tilt.dev/tiltfile_config.html>configuration profiles</a> for each environment supported by the sample application.</li> <li><code>Tiltfile</code> - main project <a href=https://tilt.dev/ >Tilt</a> logic. You will learn more about Tilt in the <a href=../../../02-development/tilt-local/ >development section</a>.</li> </ul> <h3 id=configuring-docr-endpoint-for-kustomize-overlays>Configuring DOCR Endpoint for Kustomize Overlays</h3> <p>Each overlay corresponds to an environment and it is defined by the <code>kustomization.yaml</code> manifest file present in the corresponding folder, such as <code>dev</code>, <code>staging</code>, <code>prod</code>. Base overlay contains common stuff across all environments.</p> <p>The following listing shows the Kustomize folder layout used in this guide:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a>.
<a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a>├── kustomize
<a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a>    │   ├── base
<a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a>    │   │   ├── cartservice.yaml
<a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a>    │   │   ├── checkoutservice.yaml
<a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a>    │   │   ├── currencyservice.yaml
<a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a>    │   │   ├── emailservice.yaml
<a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a>    │   │   ├── frontend.yaml
<a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a>    │   │   ├── kustomization.yaml
<a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a>    │   │   ├── namespace.yaml
<a href=#__codelineno-9-11 id=__codelineno-9-11 name=__codelineno-9-11></a>    │   │   ├── paymentservice.yaml
<a href=#__codelineno-9-12 id=__codelineno-9-12 name=__codelineno-9-12></a>    │   │   ├── productcatalogservice.yaml
<a href=#__codelineno-9-13 id=__codelineno-9-13 name=__codelineno-9-13></a>    │   │   ├── recommendationservice.yaml
<a href=#__codelineno-9-14 id=__codelineno-9-14 name=__codelineno-9-14></a>    │   │   ├── redis.yaml
<a href=#__codelineno-9-15 id=__codelineno-9-15 name=__codelineno-9-15></a>    │   │   └── shippingservice.yaml
<a href=#__codelineno-9-16 id=__codelineno-9-16 name=__codelineno-9-16></a>    │   ├── dev
<a href=#__codelineno-9-17 id=__codelineno-9-17 name=__codelineno-9-17></a>    │   │   └── kustomization.yaml
<a href=#__codelineno-9-18 id=__codelineno-9-18 name=__codelineno-9-18></a>    │   ├── local
<a href=#__codelineno-9-19 id=__codelineno-9-19 name=__codelineno-9-19></a>    │   │   └── kustomization.yaml
<a href=#__codelineno-9-20 id=__codelineno-9-20 name=__codelineno-9-20></a>    │   ├── prod
<a href=#__codelineno-9-21 id=__codelineno-9-21 name=__codelineno-9-21></a>    │   │   └── kustomization.yaml
<a href=#__codelineno-9-22 id=__codelineno-9-22 name=__codelineno-9-22></a>    │   ├── staging
<a href=#__codelineno-9-23 id=__codelineno-9-23 name=__codelineno-9-23></a>    │   │   └── kustomization.yaml
<a href=#__codelineno-9-24 id=__codelineno-9-24 name=__codelineno-9-24></a>    │   └── kustomization.yaml
<a href=#__codelineno-9-25 id=__codelineno-9-25 name=__codelineno-9-25></a>...
</code></pre></div> <p>Above listing shows all <code>kustomization.yaml</code> manifests present in each environment subfolder (or overlay). The <code>kustomization.yaml</code> manifest file is important because it defines the differences across environments. Basically, it overrides or adds new settings over the existing ones present in the <code>base</code> subfolder. There's a <code>kustomization.yaml</code> manifest file located in the <code>base</code> subfolder as well which defines default or common settings for all project microservices.</p> <p>Going forward, every environment overrides each microservice Docker image used in the project to include registry information. Based on your current setup, this setting needs to be changed accordingly.</p> <p>Follow below steps to change DOCR settings for each environment:</p> <h4 id=development-environment-docr-overlay>Development Environment DOCR Overlay</h4> <ol> <li> <p>Open and edit the <code>kustomize/dev/kustomization.yaml</code> file using an editor of your choice (preferably with YAML lint suppprt). For example, you can use <a href=https://code.visualstudio.com/ >VS Code</a>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a>code kustomize/dev/kustomization.yaml
</code></pre></div> </li> <li> <p>For each application image, replace the <code>microservices-demo</code> string within each <code>newName</code> line with your own registry name:</p> <details class=info> <summary>Click to expand the <code>kustomize/dev/kustomization.yaml</code> images section</summary> <div class=highlight><pre><span></span><code><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a><span class=nn>...</span><span class=w></span>
<a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a><span class=nt>images</span><span class=p>:</span><span class=w></span>
<a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cartservice</span><span class=w></span>
<a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/cartservice</span><span class=w></span>
</span><a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-6 id=__codelineno-11-6 name=__codelineno-11-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">checkoutservice</span><span class=w></span>
<a href=#__codelineno-11-7 id=__codelineno-11-7 name=__codelineno-11-7></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/checkoutservice</span><span class=w></span>
</span><a href=#__codelineno-11-8 id=__codelineno-11-8 name=__codelineno-11-8></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-9 id=__codelineno-11-9 name=__codelineno-11-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">currencyservice</span><span class=w></span>
<a href=#__codelineno-11-10 id=__codelineno-11-10 name=__codelineno-11-10></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/currencyservice</span><span class=w></span>
</span><a href=#__codelineno-11-11 id=__codelineno-11-11 name=__codelineno-11-11></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-12 id=__codelineno-11-12 name=__codelineno-11-12></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">emailservice</span><span class=w></span>
<a href=#__codelineno-11-13 id=__codelineno-11-13 name=__codelineno-11-13></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/emailservice</span><span class=w></span>
</span><a href=#__codelineno-11-14 id=__codelineno-11-14 name=__codelineno-11-14></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-15 id=__codelineno-11-15 name=__codelineno-11-15></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">frontend</span><span class=w></span>
<a href=#__codelineno-11-16 id=__codelineno-11-16 name=__codelineno-11-16></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/frontend</span><span class=w></span>
</span><a href=#__codelineno-11-17 id=__codelineno-11-17 name=__codelineno-11-17></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-18 id=__codelineno-11-18 name=__codelineno-11-18></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">paymentservice</span><span class=w></span>
<a href=#__codelineno-11-19 id=__codelineno-11-19 name=__codelineno-11-19></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/paymentservice</span><span class=w></span>
</span><a href=#__codelineno-11-20 id=__codelineno-11-20 name=__codelineno-11-20></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-21 id=__codelineno-11-21 name=__codelineno-11-21></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productcatalogservice</span><span class=w></span>
<a href=#__codelineno-11-22 id=__codelineno-11-22 name=__codelineno-11-22></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/productcatalogservice</span><span class=w></span>
</span><a href=#__codelineno-11-23 id=__codelineno-11-23 name=__codelineno-11-23></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-24 id=__codelineno-11-24 name=__codelineno-11-24></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">recommendationservice</span><span class=w></span>
<a href=#__codelineno-11-25 id=__codelineno-11-25 name=__codelineno-11-25></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/recommendationservice</span><span class=w></span>
</span><a href=#__codelineno-11-26 id=__codelineno-11-26 name=__codelineno-11-26></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-27 id=__codelineno-11-27 name=__codelineno-11-27></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">shippingservice</span><span class=w></span>
<a href=#__codelineno-11-28 id=__codelineno-11-28 name=__codelineno-11-28></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/shippingservice</span><span class=w></span>
</span><a href=#__codelineno-11-29 id=__codelineno-11-29 name=__codelineno-11-29></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-11-30 id=__codelineno-11-30 name=__codelineno-11-30></a><span class=nn>...</span><span class=w></span>
</code></pre></div> </details> </li> </ol> <h4 id=staging-environment-docr-overlay>Staging Environment DOCR Overlay</h4> <ol> <li> <p>Open and edit the <code>kustomize/staging/kustomization.yaml</code> file using an editor of your choice (preferably with YAML lint suppprt). For example, you can use <a href=https://code.visualstudio.com/ >VS Code</a>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a>code kustomize/staging/kustomization.yaml
</code></pre></div> </li> <li> <p>For each application image, replace the <code>microservices-demo</code> string within each <code>newName</code> line with your own registry name:</p> <details class=info> <summary>Click to expand the <code>kustomize/staging/kustomization.yaml</code> images section</summary> <div class=highlight><pre><span></span><code><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a><span class=nn>...</span><span class=w></span>
<a href=#__codelineno-13-2 id=__codelineno-13-2 name=__codelineno-13-2></a><span class=nt>images</span><span class=p>:</span><span class=w></span>
<a href=#__codelineno-13-3 id=__codelineno-13-3 name=__codelineno-13-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cartservice</span><span class=w></span>
<a href=#__codelineno-13-4 id=__codelineno-13-4 name=__codelineno-13-4></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/cartservice</span><span class=w></span>
</span><a href=#__codelineno-13-5 id=__codelineno-13-5 name=__codelineno-13-5></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-6 id=__codelineno-13-6 name=__codelineno-13-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">checkoutservice</span><span class=w></span>
<a href=#__codelineno-13-7 id=__codelineno-13-7 name=__codelineno-13-7></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/checkoutservice</span><span class=w></span>
</span><a href=#__codelineno-13-8 id=__codelineno-13-8 name=__codelineno-13-8></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-9 id=__codelineno-13-9 name=__codelineno-13-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">currencyservice</span><span class=w></span>
<a href=#__codelineno-13-10 id=__codelineno-13-10 name=__codelineno-13-10></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/currencyservice</span><span class=w></span>
</span><a href=#__codelineno-13-11 id=__codelineno-13-11 name=__codelineno-13-11></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-12 id=__codelineno-13-12 name=__codelineno-13-12></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">emailservice</span><span class=w></span>
<a href=#__codelineno-13-13 id=__codelineno-13-13 name=__codelineno-13-13></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/emailservice</span><span class=w></span>
</span><a href=#__codelineno-13-14 id=__codelineno-13-14 name=__codelineno-13-14></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-15 id=__codelineno-13-15 name=__codelineno-13-15></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">frontend</span><span class=w></span>
<a href=#__codelineno-13-16 id=__codelineno-13-16 name=__codelineno-13-16></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/frontend</span><span class=w></span>
</span><a href=#__codelineno-13-17 id=__codelineno-13-17 name=__codelineno-13-17></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-18 id=__codelineno-13-18 name=__codelineno-13-18></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">paymentservice</span><span class=w></span>
<a href=#__codelineno-13-19 id=__codelineno-13-19 name=__codelineno-13-19></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/paymentservice</span><span class=w></span>
</span><a href=#__codelineno-13-20 id=__codelineno-13-20 name=__codelineno-13-20></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-21 id=__codelineno-13-21 name=__codelineno-13-21></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productcatalogservice</span><span class=w></span>
<a href=#__codelineno-13-22 id=__codelineno-13-22 name=__codelineno-13-22></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/productcatalogservice</span><span class=w></span>
</span><a href=#__codelineno-13-23 id=__codelineno-13-23 name=__codelineno-13-23></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-24 id=__codelineno-13-24 name=__codelineno-13-24></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">recommendationservice</span><span class=w></span>
<a href=#__codelineno-13-25 id=__codelineno-13-25 name=__codelineno-13-25></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/recommendationservice</span><span class=w></span>
</span><a href=#__codelineno-13-26 id=__codelineno-13-26 name=__codelineno-13-26></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-27 id=__codelineno-13-27 name=__codelineno-13-27></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">shippingservice</span><span class=w></span>
<a href=#__codelineno-13-28 id=__codelineno-13-28 name=__codelineno-13-28></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/shippingservice</span><span class=w></span>
</span><a href=#__codelineno-13-29 id=__codelineno-13-29 name=__codelineno-13-29></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-13-30 id=__codelineno-13-30 name=__codelineno-13-30></a><span class=nn>...</span><span class=w></span>
</code></pre></div> </details> </li> </ol> <h4 id=production-environment-docr-overlay>Production Environment DOCR Overlay</h4> <ol> <li> <p>Open and edit the <code>kustomize/production/kustomization.yaml</code> file using an editor of your choice (preferably with YAML lint suppprt). For example, you can use <a href=https://code.visualstudio.com/ >VS Code</a>:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a>code kustomize/production/kustomization.yaml
</code></pre></div> </li> <li> <p>For each application image, replace the <code>microservices-demo</code> string within each <code>newName</code> line with your own registry name:</p> <details class=info> <summary>Click to expand the <code>kustomize/production/kustomization.yaml</code> images section</summary> <div class=highlight><pre><span></span><code><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a><span class=nn>...</span><span class=w></span>
<a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a><span class=nt>images</span><span class=p>:</span><span class=w></span>
<a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cartservice</span><span class=w></span>
<a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/cartservice</span><span class=w></span>
</span><a href=#__codelineno-15-5 id=__codelineno-15-5 name=__codelineno-15-5></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-6 id=__codelineno-15-6 name=__codelineno-15-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">checkoutservice</span><span class=w></span>
<a href=#__codelineno-15-7 id=__codelineno-15-7 name=__codelineno-15-7></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/checkoutservice</span><span class=w></span>
</span><a href=#__codelineno-15-8 id=__codelineno-15-8 name=__codelineno-15-8></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-9 id=__codelineno-15-9 name=__codelineno-15-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">currencyservice</span><span class=w></span>
<a href=#__codelineno-15-10 id=__codelineno-15-10 name=__codelineno-15-10></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/currencyservice</span><span class=w></span>
</span><a href=#__codelineno-15-11 id=__codelineno-15-11 name=__codelineno-15-11></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-12 id=__codelineno-15-12 name=__codelineno-15-12></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">emailservice</span><span class=w></span>
<a href=#__codelineno-15-13 id=__codelineno-15-13 name=__codelineno-15-13></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/emailservice</span><span class=w></span>
</span><a href=#__codelineno-15-14 id=__codelineno-15-14 name=__codelineno-15-14></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-15 id=__codelineno-15-15 name=__codelineno-15-15></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">frontend</span><span class=w></span>
<a href=#__codelineno-15-16 id=__codelineno-15-16 name=__codelineno-15-16></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/frontend</span><span class=w></span>
</span><a href=#__codelineno-15-17 id=__codelineno-15-17 name=__codelineno-15-17></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-18 id=__codelineno-15-18 name=__codelineno-15-18></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">paymentservice</span><span class=w></span>
<a href=#__codelineno-15-19 id=__codelineno-15-19 name=__codelineno-15-19></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/paymentservice</span><span class=w></span>
</span><a href=#__codelineno-15-20 id=__codelineno-15-20 name=__codelineno-15-20></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-21 id=__codelineno-15-21 name=__codelineno-15-21></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">productcatalogservice</span><span class=w></span>
<a href=#__codelineno-15-22 id=__codelineno-15-22 name=__codelineno-15-22></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/productcatalogservice</span><span class=w></span>
</span><a href=#__codelineno-15-23 id=__codelineno-15-23 name=__codelineno-15-23></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-24 id=__codelineno-15-24 name=__codelineno-15-24></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">recommendationservice</span><span class=w></span>
<a href=#__codelineno-15-25 id=__codelineno-15-25 name=__codelineno-15-25></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/recommendationservice</span><span class=w></span>
</span><a href=#__codelineno-15-26 id=__codelineno-15-26 name=__codelineno-15-26></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-27 id=__codelineno-15-27 name=__codelineno-15-27></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">shippingservice</span><span class=w></span>
<a href=#__codelineno-15-28 id=__codelineno-15-28 name=__codelineno-15-28></a><span class=hll><span class=w>  </span><span class=nt>newName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.digitalocean.com/microservices-demo/shippingservice</span><span class=w></span>
</span><a href=#__codelineno-15-29 id=__codelineno-15-29 name=__codelineno-15-29></a><span class=w>  </span><span class=nt>newTag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1.0.0</span><span class=w></span>
<a href=#__codelineno-15-30 id=__codelineno-15-30 name=__codelineno-15-30></a><span class=nn>...</span><span class=w></span>
</code></pre></div> </details> </li> </ol> <p>Next, it is important to set a few protection rules to avoid pushing directly to <code>main</code> branch, as well as how to enforce a set of policies related to how code is merged.</p> <h2 id=set-up-main-branch-protection>Set Up Main Branch Protection</h2> <p>You should define branch protection rules to disable force pushing, prevent branches from being deleted, and optionally require status checks before merging.</p> <ol> <li>From <a href=https://github.com/ >GitHub</a>, navigate to the main page of your repository.</li> <li>Under your repository name, click <code>Settings</code>.</li> <li>In the <code>Code and automation</code> section of the sidebar, click <code>Branches</code>.</li> <li>Next to <code>Branch protection rules</code>, click Add rule.</li> <li>Set the <code>Branch name pattern</code> to <code>master</code>:</li> <li>Tick the following options:<ul> <li>Require a pull request before merging.</li> <li>Dismiss stale pull request approvals when new commits are pushed.</li> </ul> </li> </ol> <p>The online boutique demo application uses <a href=https://www.docker.com/ >Docker</a> technology to distribute and run all application components.</p> <p>Next, you have the option to use a <a href=../building-and-pushing-images-using-docker/ >classic docker build</a> to distribute the application, or use <a href=../building-and-pushing-images-using-cnb/ >Cloud Native Buildpacks</a>. Cloud Native Buildpacks simplify the process of distributing Docker applications without having to write a single Dockerfile.</p> </article> </div> </div> </main> <footer class=md-footer> <nav aria-label=Footer class="md-footer__inner md-grid"> <a aria-label="Previous: Set up a Digital Ocean container registry" class="md-footer__link md-footer__link--prev" href=../../setup-docr/ rel=prev> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Set up a Digital Ocean container registry </div> </div> </a> <a aria-label="Next: Building and pushing images with Docker" class="md-footer__link md-footer__link--next" href=../building-and-pushing-images-using-docker/ rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Building and pushing images with Docker </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> DigitalOcean </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.d6c3db9e.min.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom"});})</script></body> </html>